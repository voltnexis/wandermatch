"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[333],{1265:function(e,t,r){r.d(t,{a:function(){return l},default:function(){return o}});var i=r(7437),a=r(2265),s=r(2141);let n=(0,a.createContext)({user:null,loading:!0,signOut:async()=>{},setUser:()=>{},signUp:async()=>({error:"Not implemented"}),signIn:async()=>({error:"Not implemented"})}),l=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useAuth must be used within AuthProvider");return e};function o(e){let{children:t}=e,[r,l]=(0,a.useState)(null),[o,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{let{data:{session:e}}=await s.OQ.auth.getSession();if(null==e?void 0:e.user){let{data:t}=await s.OQ.from("users").select("*").eq("id",e.user.id).single();t&&(await (0,s.yA)(t.id,!0),l({...t,is_online:!0}))}c(!1)})();let{data:{subscription:e}}=s.OQ.auth.onAuthStateChange(async(e,t)=>{if(null==t?void 0:t.user){let{data:e}=await s.OQ.from("users").select("*").eq("id",t.user.id).single();e&&(await (0,s.yA)(e.id,!0),l({...e,is_online:!0}))}else l(null);c(!1)});return()=>e.unsubscribe()},[]);let d=async()=>{r&&await (0,s.yA)(r.id,!1),await s.OQ.auth.signOut(),l(null)},h=async(e,t,r)=>{try{let{data:i,error:a}=await s.OQ.auth.signUp({email:e,password:t,options:{data:r,emailRedirectTo:void 0}});if(a)return console.error("Signup error:",a),{error:a.message};return console.log("Signup successful:",i),{error:void 0}}catch(e){return console.error("Signup exception:",e),{error:"Signup failed"}}},u=async(e,t)=>{try{let{data:r,error:i}=await s.OQ.auth.signInWithPassword({email:e,password:t});if(i)return{error:i.message};return{error:void 0}}catch(e){return{error:"Login failed"}}};return(0,i.jsx)(n.Provider,{value:{user:r,loading:o,signOut:d,setUser:l,signUp:h,signIn:u},children:t})}},8349:function(e,t,r){r.d(t,{default:function(){return u}});var i=r(7437),a=r(9202),s=r(9219),n=r(2351),l=r(7760),o=r(598),c=r(9345),d=r(3041),h=r(491);function u(){return(0,i.jsx)("footer",{className:"bg-gray-900 text-white",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,i.jsxs)("div",{className:"lg:col-span-1",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,i.jsx)("div",{className:"bg-gradient-to-r from-primary-500 to-accent-500 p-2 rounded-xl",children:(0,i.jsx)(a.Z,{className:"h-6 w-6 text-white"})}),(0,i.jsx)("span",{className:"text-2xl font-display font-bold",children:"WanderMatch"})]}),(0,i.jsx)("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Connecting travelers and locals worldwide for authentic cultural exchange and meaningful relationships."}),(0,i.jsxs)("div",{className:"flex space-x-4",children:[(0,i.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:(0,i.jsx)(s.Z,{className:"h-5 w-5"})}),(0,i.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:(0,i.jsx)(n.Z,{className:"h-5 w-5"})}),(0,i.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:(0,i.jsx)(l.Z,{className:"h-5 w-5"})}),(0,i.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:(0,i.jsx)(o.Z,{className:"h-5 w-5"})})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Product"}),(0,i.jsxs)("ul",{className:"space-y-4",children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/features",className:"text-gray-400 hover:text-white transition-colors",children:"Features"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/pricing",className:"text-gray-400 hover:text-white transition-colors",children:"Pricing"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/safety",className:"text-gray-400 hover:text-white transition-colors",children:"Safety"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/download",className:"text-gray-400 hover:text-white transition-colors",children:"Mobile App"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"API"})})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Company"}),(0,i.jsxs)("ul",{className:"space-y-4",children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/about",className:"text-gray-400 hover:text-white transition-colors",children:"About Us"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Careers"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Press"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Blog"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Partners"})})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Support"}),(0,i.jsxs)("ul",{className:"space-y-4",children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Help Center"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Community"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Contact Us"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy Policy"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),(0,i.jsx)("div",{className:"border-t border-gray-800 mt-12 pt-8",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(c.Z,{className:"h-5 w-5 text-primary-400 mr-3"}),(0,i.jsx)("span",{className:"text-gray-400",children:"hello@wandermatch.in"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(d.Z,{className:"h-5 w-5 text-primary-400 mr-3"}),(0,i.jsx)("span",{className:"text-gray-400",children:"+91 484 123 4567"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(h.Z,{className:"h-5 w-5 text-primary-400 mr-3"}),(0,i.jsx)("span",{className:"text-gray-400",children:"Kochi, Kerala, India"})]})]})}),(0,i.jsxs)("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center",children:[(0,i.jsx)("p",{className:"text-gray-400 text-sm",children:"\xa9 2024 WanderMatch. All rights reserved."}),(0,i.jsxs)("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[(0,i.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy"}),(0,i.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms"}),(0,i.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Cookies"})]})]})]})})}},4196:function(e,t,r){r.d(t,{default:function(){return h}});var i=r(7437),a=r(2265),s=r(1265),n=r(9202),l=r(2369),o=r(7692),c=r(2489),d=r(8293);function h(){let{user:e,loading:t,signOut:r}=(0,s.a)(),[h,u]=(0,a.useState)(!1),[f,m]=(0,a.useState)(!1),x=async()=>{await r(),m(!1)};return(0,i.jsx)("header",{className:"fixed top-0 w-full bg-white/95 backdrop-blur-md z-50 border-b border-gray-100",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"bg-gradient-to-r from-primary-500 to-accent-500 p-2 rounded-xl",children:(0,i.jsx)(n.Z,{className:"h-6 w-6 text-white"})}),(0,i.jsx)("span",{className:"text-2xl font-display font-bold gradient-text",children:"WanderMatch"})]}),(0,i.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[(0,i.jsx)("a",{href:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Home"}),(0,i.jsx)("a",{href:"/features",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Features"}),(0,i.jsx)("a",{href:"/about",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"About"}),(0,i.jsx)("a",{href:"/safety",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Safety"}),(0,i.jsx)("a",{href:"/pricing",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Pricing"}),(0,i.jsx)("a",{href:"/contact",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Contact"})]}),(0,i.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:t?(0,i.jsx)("div",{className:"w-8 h-8 animate-spin border-2 border-primary-500 border-t-transparent rounded-full"}):e?(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)("button",{onClick:()=>m(!f),className:"flex items-center space-x-2 text-gray-700 hover:text-primary-600 font-medium",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-500 to-accent-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.name.charAt(0)}),(0,i.jsx)("span",{children:e.name})]}),f&&(0,i.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",children:[(0,i.jsxs)("a",{href:"/dashboard",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:[(0,i.jsx)(l.Z,{className:"inline w-4 h-4 mr-2"}),"Dashboard"]}),(0,i.jsxs)("a",{href:"/profile",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:[(0,i.jsx)(l.Z,{className:"inline w-4 h-4 mr-2"}),"Profile"]}),(0,i.jsxs)("button",{onClick:x,className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100",children:[(0,i.jsx)(o.Z,{className:"inline w-4 h-4 mr-2"}),"Sign Out"]})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("a",{href:"/signin",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign In"}),(0,i.jsx)("a",{href:"/signup",className:"btn-primary",children:"Sign Up"})]})}),(0,i.jsx)("button",{className:"md:hidden p-2",onClick:()=>u(!h),children:h?(0,i.jsx)(c.Z,{className:"h-6 w-6"}):(0,i.jsx)(d.Z,{className:"h-6 w-6"})})]}),h&&(0,i.jsx)("div",{className:"md:hidden py-4 border-t border-gray-100",children:(0,i.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,i.jsx)("a",{href:"/",className:"text-gray-700 hover:text-primary-600",children:"Home"}),(0,i.jsx)("a",{href:"/features",className:"text-gray-700 hover:text-primary-600",children:"Features"}),(0,i.jsx)("a",{href:"/about",className:"text-gray-700 hover:text-primary-600",children:"About"}),(0,i.jsx)("a",{href:"/safety",className:"text-gray-700 hover:text-primary-600",children:"Safety"}),(0,i.jsx)("a",{href:"/pricing",className:"text-gray-700 hover:text-primary-600",children:"Pricing"}),(0,i.jsx)("a",{href:"/contact",className:"text-gray-700 hover:text-primary-600",children:"Contact"}),(0,i.jsx)("div",{className:"flex flex-col space-y-2 pt-4",children:e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("a",{href:"/dashboard",className:"text-primary-600 font-medium text-left",children:"Dashboard"}),(0,i.jsx)("a",{href:"/profile",className:"text-primary-600 font-medium text-left",children:"Profile"}),(0,i.jsx)("button",{onClick:x,className:"text-gray-600 font-medium text-left",children:"Sign Out"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("a",{href:"/signin",className:"text-primary-600 font-medium text-left",children:"Sign In"}),(0,i.jsx)("a",{href:"/signup",className:"btn-primary text-center",children:"Sign Up"})]})})]})})]})})}},2141:function(e,t,r){r.d(t,{AJ:function(){return w},AW:function(){return f},Bp:function(){return v},DJ:function(){return N},EF:function(){return y},ET:function(){return p},F6:function(){return x},GA:function(){return D},Jq:function(){return C},Lj:function(){return h},OQ:function(){return n},P_:function(){return m},SH:function(){return c},X_:function(){return Z},_p:function(){return u},b6:function(){return S},bE:function(){return P},createChatRoom:function(){return k},dZ:function(){return l},di:function(){return q},ez:function(){return d},ip:function(){return j},isMutualLike:function(){return J},lR:function(){return A},nX:function(){return g},oB:function(){return _},qb:function(){return I},ww:function(){return O},xT:function(){return o},yA:function(){return U},zp:function(){return E}});var i=r(8439);let a="https://rbhdvffmsgjhorzubghj.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJiaGR2ZmZtc2dqaG9yenViZ2hqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY2NDI2NDcsImV4cCI6MjA3MjIxODY0N30.y_8P2L6esbjRfRc7LcfphLSL9GEMh5Vw_mlY0EePBpg";if(!a||!s)throw Error("Missing Supabase environment variables. Please check your .env.local file.");if(a.includes("your_supabase_project_url_here"))throw Error("Please update your Supabase URL in .env.local with your actual project URL");let n=(0,i.eI)(a,s),l=async e=>{let t=n.from("kerala_locations").select("*").order("is_featured",{ascending:!1});(null==e?void 0:e.type)&&"all"!==e.type&&(t=t.eq("type",e.type)),(null==e?void 0:e.district)&&"all"!==e.district&&(t=t.eq("district",e.district));let{data:r,error:i}=await t;if(i)throw i;return r},o=async e=>{let{data:t,error:r}=await n.from("travel_plans").select("*").eq("user_id",e).eq("is_active",!0);if(r)throw r;return t},c=async e=>{let{data:t,error:r}=await n.from("travel_plans").insert([e]).select().single();if(r)throw r;return t};async function d(e,t,r){let i={user_id:e,destination:t,district:r,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+6048e5).toISOString().split("T")[0],travel_type:"leisure",description:"Visit ".concat(t),is_active:!0};return await c(i)}async function h(e,t){let{interests:r,...i}=t,{data:a,error:s}=await n.from("users").update(i).eq("id",e).select().single();if(s)throw s;return a}async function u(e,t){if(t.size>5242880)throw Error("File size must be less than 5MB");if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(t.type))throw Error("Only JPEG, PNG, and WebP images are allowed");let r=t.name.split(".").pop(),i="".concat(e,"-").concat(Date.now(),".").concat(r),a="profile-images/".concat(i),{error:s}=await n.storage.from("profile-images").upload(a,t);if(s)throw s;let{data:l}=n.storage.from("profile-images").getPublicUrl(a);return l.publicUrl}async function f(){let{data:e,error:t}=await n.from("users").select("*").order("created_at",{ascending:!1});if(t)throw t;return e}async function m(e,t){let{data:r,error:i}=await n.from("user_follows").insert([{follower_id:e,following_id:t}]).select().single();if(i)throw i;return r}async function x(e,t){let{error:r}=await n.from("user_follows").delete().eq("follower_id",e).eq("following_id",t);if(r)throw r}async function g(e){let{data:t,error:r}=await n.from("user_follows").select("\n      following_id,\n      following:users!user_follows_following_id_fkey(*)\n    ").eq("follower_id",e);if(r)throw r;return t.map(e=>({...e.following,is_online:e.following.is_online||!1}))}async function p(e){let{data:t,error:r}=await n.from("user_follows").select("\n      follower_id,\n      follower:users!user_follows_follower_id_fkey(*)\n    ").eq("following_id",e);if(r)throw r;return t.map(e=>e.follower)}async function w(e,t){let{data:r,error:i}=await n.from("user_follows").select("id").eq("follower_id",e).eq("following_id",t).single();if(i&&"PGRST116"!==i.code)throw i;return!!r}async function y(e,t){let{data:r,error:i}=await n.from("user_likes").insert([{liker_id:e,liked_id:t}]).select().single();if(i)throw i;try{let{data:r,error:i}=await n.from("user_likes").select("id").eq("liker_id",t).eq("liked_id",e).single();if(r&&!i){await b(e,t);let r=await k(e,t,!0);console.log("Romantic chat room created:",r)}}catch(e){console.error("Error checking mutual like:",e)}return r}async function _(e,t){let{error:r}=await n.from("user_likes").delete().eq("liker_id",e).eq("liked_id",t);if(r)throw r;await n.from("matches").delete().or("and(user1_id.eq.".concat(e,",user2_id.eq.").concat(t,"),and(user1_id.eq.").concat(t,",user2_id.eq.").concat(e,")"))}async function j(e,t){let{data:r,error:i}=await n.from("user_likes").select("id").eq("liker_id",e).eq("liked_id",t).single();if(i&&"PGRST116"!==i.code)throw i;return!!r}async function N(e){let{data:t,error:r}=await n.from("user_likes").select("\n      liked_id,\n      liked:users!user_likes_liked_id_fkey(*)\n    ").eq("liker_id",e);if(r)throw r;return t.map(e=>e.liked)}async function v(e){let{data:t,error:r}=await n.from("user_likes").select("\n      liker_id,\n      liker:users!user_likes_liker_id_fkey(*)\n    ").eq("liked_id",e);if(r)throw r;return t.map(e=>e.liker)}async function b(e,t){let{data:r,error:i}=await n.from("matches").insert([{user1_id:e,user2_id:t}]).select().single();if(i)throw i;return r}async function k(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{data:i}=await n.from("chat_rooms").select("*").or("and(participant1_id.eq.".concat(e,",participant2_id.eq.").concat(t,"),and(participant1_id.eq.").concat(t,",participant2_id.eq.").concat(e,")")).single();if(i){if(r&&!i.is_romantic){let{data:e,error:t}=await n.from("chat_rooms").update({is_romantic:!0}).eq("id",i.id).select().single();if(t)throw t;return e}return i}let{data:a,error:s}=await n.from("chat_rooms").insert([{participant1_id:e,participant2_id:t,is_romantic:r}]).select("\n      *,\n      participant1:users!chat_rooms_participant1_id_fkey(*),\n      participant2:users!chat_rooms_participant2_id_fkey(*)\n    ").single();if(s)throw s;return a}async function q(e){let{data:t,error:r}=await n.from("chat_rooms").select("\n      *,\n      participant1:users!chat_rooms_participant1_id_fkey(*),\n      participant2:users!chat_rooms_participant2_id_fkey(*)\n    ").or("participant1_id.eq.".concat(e,",participant2_id.eq.").concat(e)).order("last_message_time",{ascending:!1});if(r)throw r;return t}async function S(e){let{data:t,error:r}=await n.from("chat_messages").select("\n      *,\n      sender:users!chat_messages_sender_id_fkey(*)\n    ").eq("room_id",e).order("created_at",{ascending:!0});if(r)throw r;return t}async function P(e,t,r){let{data:i,error:a}=await n.from("chat_messages").insert([{room_id:e,sender_id:t,content:r}]).select().single();if(a)throw a;return await n.from("chat_rooms").update({last_message:r,last_message_time:new Date().toISOString()}).eq("id",e),i}async function I(e,t,r,i){let a=null;if(i){let t=i.name.split(".").pop(),r="".concat(e,"-").concat(Date.now(),".").concat(t),s="post-images/".concat(r),{error:l}=await n.storage.from("post-images").upload(s,i);if(l)throw l;let{data:o}=n.storage.from("post-images").getPublicUrl(s);a=o.publicUrl}let{data:s,error:l}=await n.from("posts").insert([{user_id:e,content:t,location_tag:r,image_url:a}]).select().single();if(l)throw l;return s}async function C(){let{data:e,error:t}=await n.from("posts").select("\n      *,\n      user:users!posts_user_id_fkey(*)\n    ").order("created_at",{ascending:!1});if(t)throw t;return e}async function O(e){let{data:t,error:r}=await n.from("posts").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(r)throw r;return t}async function Z(e){var t,r;let[i,a]=await Promise.all([n.from("user_follows").select("id").eq("following_id",e),n.from("user_follows").select("id").eq("follower_id",e)]);return{followers:(null===(t=i.data)||void 0===t?void 0:t.length)||0,following:(null===(r=a.data)||void 0===r?void 0:r.length)||0,likes:0}}async function A(e,t,r){let{data:i,error:a}=await n.from("location_ratings").upsert([{user_id:e,location_name:t,rating:r}]).select().single();if(a)throw a;return i}async function E(e){let{data:t,error:r}=await n.from("location_ratings").select("rating").eq("location_name",e);if(r)throw r;if(!t||0===t.length)return{average:0,count:0};let i=t.map(e=>e.rating);return{average:Math.round(i.reduce((e,t)=>e+t,0)/i.length*10)/10,count:i.length}}async function U(e,t){let{error:r}=await n.from("users").update({is_online:t,last_seen:new Date().toISOString()}).eq("id",e);if(r)throw r}async function D(e){let{data:t,error:r}=await n.from("users").select("*").eq("id",e).single();if(r)throw r;return t}async function J(e,t){let[r,i]=await Promise.all([n.from("user_likes").select("id").eq("liker_id",e).eq("liked_id",t).single(),n.from("user_likes").select("id").eq("liker_id",t).eq("liked_id",e).single()]);return!!(r.data&&i.data)}}}]);